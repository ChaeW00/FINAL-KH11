<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="ground">
   
<!--    <select id="sequence" resultType="int"> -->
<!--       select item_seq.nextval from dual -->
<!--    </select> -->
   
	<!-- 목록 -->
	<select id="list" resultType="GroundDto">
		select * from ground
	</select>
   
	<!-- 상세 -->
	<select id="detail" resultType="GroundDto">
		select * from ground where ground_no = #{groundNo}
	</select>
	
	<!-- SQL 구문 조각 생성 -->
	<sql id="topNheader">
		select * from (
			select rownum rn, TMP.* from (
	</sql>
	<sql id="topNfooter">
			)TMP
		) where rn between #{begin} and #{end}
	</sql>
	
	<!-- 무한스크롤 페이징 목록 -->
	<select id="infinite" resultType="GroundDto">
		<include refid="topNheader"/>
			select * from ground order by ground_no asc
		<include refid="topNfooter"/>
	</select>
	
	<!-- 전체구장 결제 순위 :박지은 -->
	<select id="groundCount" resultType="StatDto">
		select*from rank
	</select>
	
</mapper>